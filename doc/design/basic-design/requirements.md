# GIRA项目需求设计文档

## 1. 项目概述
GIRA是一个简化版的项目管理系统，主要聚焦于看板和Sprint功能，帮助团队更好地进行任务管理和进度跟踪。

## 2. 用户角色定义
系统包含两种用户角色：
1. 管理员（Admin）
   - 系统预置角色
   - 用户管理权限（创建、编辑、删除用户）
   - Sprint管理权限（创建、编辑、开始、结束sprint）
   - 任务完整操作权限（开始、结束、删除、编辑）

2. 开发者（Developer）
   - 由管理员创建账户
   - 查看看板（拖动看板中任务，修改状态）
   - Sprint中的任务操作（在sprint中创建任务）
   - 个人信息管理（修改个人基本信息，修改密码）

## 3. 核心功能需求

### 3.1 看板功能（Kanban）
#### 前端需求
1. 看板展示
   - 默认展示当前进行中的看板（active状态）
   - 固定三列布局：待办、进行中、已完成
   - 任务卡片显示标题、经办人、优先级等信息

2. 任务操作
   - 拖拽任务卡片在不同状态列之间移动（管理员和开发者）
   - 点击任务卡片查看/编辑详细信息
   - 支持在Sprint中快速添加新任务

#### 后端需求
1. 看板管理
   - 获取看板数据
   - 更新看板基本信息（仅管理员）
   - 看板状态管理（active/archived）

2. 任务管理
   - 创建、更新任务（仅限未完成任务）
   - 任务状态变更
   - 任务分配与优先级设置

### 3.2 Sprint功能
#### 前端需求
1. Sprint管理
   - 显示Sprint列表和状态（PLANNING/ACTIVE/COMPLETED）
   - 支持创建新Sprint（仅管理员）
   - 显示Sprint的开始和结束时间
   - 显示Sprint的任务列表和进度

2. Sprint操作
   - 启动Sprint（仅管理员，且Sprint中有任务）
   - 完成Sprint（仅管理员）
   - 更新Sprint信息（仅管理员，且Sprint处于计划中状态）
   - 查看Sprint详情和任务列表

#### 后端需求
1. Sprint基本管理
   - Sprint名称唯一性校验
   - Sprint持续时间限制（不超过4周）
   - Sprint状态管理（planning/active/completed）
   - 同一时间只允许一个活动Sprint
   - 结束日期必须晚于开始日期

2. Sprint与看板关联
   - Sprint启动时自动创建看板
   - Sprint完成时自动归档看板
   - 看板状态与Sprint状态同步

3. Sprint与任务关联
   - Sprint必须包含任务才能启动
   - Sprint完成时自动完成未完成任务
   - 任务状态变更实时反映在看板上
   - 支持查看Sprint的任务列表

4. 错误处理
   - 提供清晰的错误提示信息
   - 业务规则验证（如名称唯一性、时间限制等）
   - 状态转换验证（如只能启动计划中的Sprint）
   - 任务相关验证（如启动前必须有任务）

### 3.3 用户管理
#### 前端需求
1. 用户管理（管理员）
   - 创建新用户（开发者和管理员）
   - 编辑用户信息（仅开发者）
   - 管理用户状态（激活/禁用）
   - 删除用户（仅限无任务分配的用户）

2. 个人信息管理
   - 查看个人信息
   - 更新个人信息
   - 修改密码

#### 后端需求
1. 认证授权
   - 用户登录认证
   - 基于角色的权限控制
   - Token管理

2. 用户管理
   - 用户CRUD操作
   - 用户状态管理
   - 密码重置

## 4. 非功能需求
1. 性能要求
   - 页面加载时间不超过2秒
   - 操作响应时间不超过1秒

2. 安全要求
   - 密码加密存储
   - 防止XSS攻击
   - 防止SQL注入

3. 可用性要求
   - 界面简洁直观
   - 操作流程清晰
   - 必要的操作提示

4. 兼容性要求
   - 支持主流浏览器
   - 响应式设计，支持不同分辨率 